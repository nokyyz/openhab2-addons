<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="teleinfo"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
	xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd">

	<channel-type id="isouscType">
		<item-type>Number:ElectricCurrent</item-type>
		<label>ISOUSC</label>
		<description>Subcribed intensity</description>
		<category>Energy</category>
		<state pattern="%d A" readOnly="true" />
	</channel-type>

	<channel-type id="ptecType">
		<item-type>String</item-type>
		<label>PTEC</label>
		<description>Current pricing period</description>
		<category>Energy</category>
		<state pattern="%s" readOnly="true">
			<options>
				<option value="TH">TH</option>
				<option value="HC">HC</option>
				<option value="HP">HP</option>
				<option value="HN">HN</option>
				<option value="PM">PM</option>
			</options>
		</state>
	</channel-type>

    <channel-type id="imaxType">
        <item-type>Number:ElectricCurrent</item-type>
        <label>IMAX</label>
        <description>Maximum intensity</description>
        <category>Energy</category>
        <state pattern="%d A" readOnly="true" />
    </channel-type>

    <channel-type id="iinstType">
        <item-type>Number:ElectricCurrent</item-type>
        <label>IINST</label>
        <description>Instantaneous intensity</description>
        <category>Energy</category>
        <state pattern="%d A" readOnly="true" />
    </channel-type>
    
    <channel-type id="adpsType">
        <item-type>Number:ElectricCurrent</item-type>
        <label>ADPS</label>
        <description>Warning on subscribed power overload</description>
        <category>Energy</category>
        <state pattern="%d A" readOnly="true" />
    </channel-type>
    
    <channel-type id="currentPowerType">
        <item-type>Number:Power</item-type>
        <label>currentpower</label>
        <description>Instantaneous power</description>
        <category>Energy</category>
        <state pattern="%d W" readOnly="true" />
        <config-description>
            <parameter name="powerFactor" type="integer">
                <label>Power factor</label>
                <limitToOptions>true</limitToOptions>
                <required>true</required>
                <unitLabel>Volt</unitLabel>
                <verify>true</verify>
                <options>
                    <option value="220">220</option> 
                    <option value="230">230</option> 
                    <option value="240">240</option>   
                </options>
                <default>230</default>
            </parameter>
        </config-description>
    </channel-type>
    
    <channel-type id="pappType">
        <item-type>Number</item-type>
        <label>PAPP</label>
        <description>Apparent power</description>
        <category>Energy</category>
        <state pattern="%d VA" readOnly="true" />
    </channel-type>
    
    <channel-type id="hhphcType">
        <item-type>String</item-type>
        <label>HHPHC</label>
        <description>Time group</description>
        <category>Energy</category>
        <state pattern="%s" readOnly="true">
            <options>
                <option value="A">A</option>
                <option value="C">C</option>
                <option value="D">D</option>
                <option value="E">E</option>
                <option value="Y">Y</option>
            </options>
        </state>
    </channel-type>
    
    <channel-type id="lastUpdateType">
        <item-type>DateTime</item-type>
        <label>Last update</label>
        <description>Timestamp of last received Teleinfo frame</description>
        <state readOnly="true" />
    </channel-type>
    
	<!-- <channel-type id="trigger-channel"> -->
	<!-- <kind>trigger</kind> -->
	<!-- <label>Trigger Channel</label> -->
	<!-- <event> -->
	<!-- <options> -->
	<!-- <option value="PRESSED">pressed</option> -->
	<!-- <option value="RELEASED">released</option> -->
	<!-- <option value="DOUBLE_PRESSED">double pressed</option> -->
	<!-- </options> -->
	<!-- </event> -->
	<!-- </channel-type> -->
	<!-- avertissementDepassementPuissanceSouscrite -->



</thing:thing-descriptions>
